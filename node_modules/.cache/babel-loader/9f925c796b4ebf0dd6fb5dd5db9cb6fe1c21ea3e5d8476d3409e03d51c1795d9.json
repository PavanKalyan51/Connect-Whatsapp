{"ast":null,"code":"import React from\"react\";import swal from\"sweetalert\";import{saveHistory}from\"../utils/contactUtils\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Contacts=function Contacts(_ref){var yourContacts=_ref.yourContacts,setYourContacts=_ref.setYourContacts,setContactHistory=_ref.setContactHistory;var deleteContact=function deleteContact(event){var contactName=event.currentTarget.value;swal({title:\"Are you sure?\",text:\"Are you sure that you want to delete this contact?\",icon:\"warning\",dangerMode:true,buttons:[\"No\",\"Yes\"]}).then(function(willDelete){if(willDelete){var allContacts=localStorage.getItem(\"savedContacts\");allContacts=JSON.parse(allContacts);var remainingContacts=allContacts.filter(function(contact){return contact.name!==contactName;});localStorage.setItem(\"savedContacts\",JSON.stringify(remainingContacts));setYourContacts(JSON.parse(localStorage.getItem(\"savedContacts\")));swal({title:\"Deleted Successfully!\",icon:\"success\"});}else{swal({title:\"Contact Not deleted.\"});}});};var deleteAllContacts=function deleteAllContacts(){swal({title:\"Are you sure?\",text:\"Are you sure that you want to delete all the contacts?\",icon:\"warning\",dangerMode:true,buttons:[\"No\",\"Yes\"]}).then(function(willDelete){if(willDelete){localStorage.setItem(\"savedContacts\",\"[]\");setYourContacts([]);swal(\"Deleted!\",\"Deleted all Contacts.\",\"success\");}else{swal({title:\"Contacts are safe!\"});}});};function now(){var now=new Date();var formattedString=\"Contacted on: \".concat(now.toUTCString());return formattedString;}function handleCopyToClipboard(value){var _navigator;(_navigator=navigator)===null||_navigator===void 0?void 0:_navigator.clipboard.writeText(value).then(function(val){return swal(\"Copied!\",value,\"success\");}).catch(function(err){return swal(\"Oops!\",\"something went wrong\",\"error\");});}return/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-6 py-1\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between align-items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"fs-4 fw-bolder-3\",children:\"Contacts\"}),/*#__PURE__*/_jsx(\"button\",{onClick:deleteAllContacts,className:\"btn btn-outline-dark\",children:/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-trash3\"})})]}),/*#__PURE__*/_jsx(\"div\",{children:yourContacts.sort(function(a,b){return a.name.localeCompare(b.name);}).map(function(element,index){return/*#__PURE__*/_jsxs(\"div\",{className:\"card text-bg-white my-2 w-100 p-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card-header d-flex justify-content-between fw-bold\",children:[/*#__PURE__*/_jsx(\"p\",{children:element.name}),/*#__PURE__*/_jsx(\"button\",{onClick:deleteContact,value:element.name,className:\"btn btn-sm btn-outline-danger m-1\",children:/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-trash3\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"card-body\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between align-items-center\",children:[/*#__PURE__*/_jsxs(\"h5\",{className:\"card-title\",children:[element.number.slice(0,2),\"-\",element.number.slice(2,12)]}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return handleCopyToClipboard(element===null||element===void 0?void 0:element.number);},value:element.name,className:\"btn btn-sm btn-outline-secondary m-1\",children:/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-clipboard\"})})]})}),/*#__PURE__*/_jsx(\"a\",{onClick:function onClick(e){saveHistory(element.number,now());setContactHistory(JSON.parse(localStorage.getItem(\"history\")));},value:element,target:\"_blank\",rel:\"noreferrer\",href:\"http://wa.me/\".concat(element.number),className:\"btn btn-outline-success\",children:\"Chat\"})]},index);})})]});};export default Contacts;","map":{"version":3,"names":["React","swal","saveHistory","jsx","_jsx","jsxs","_jsxs","Contacts","_ref","yourContacts","setYourContacts","setContactHistory","deleteContact","event","contactName","currentTarget","value","title","text","icon","dangerMode","buttons","then","willDelete","allContacts","localStorage","getItem","JSON","parse","remainingContacts","filter","contact","name","setItem","stringify","deleteAllContacts","now","Date","formattedString","concat","toUTCString","handleCopyToClipboard","_navigator","navigator","clipboard","writeText","val","catch","err","className","children","onClick","sort","a","b","localeCompare","map","element","index","number","slice","e","target","rel","href"],"sources":["D:/projects/whatsapp/src/components/Contacts.js"],"sourcesContent":["import React from \"react\";\r\nimport swal from \"sweetalert\";\r\nimport { saveHistory } from \"../utils/contactUtils\";\r\n\r\nconst Contacts = ({ yourContacts, setYourContacts, setContactHistory }) => {\r\n  const deleteContact = (event) => {\r\n    let contactName = event.currentTarget.value;\r\n    swal({\r\n      title: \"Are you sure?\",\r\n      text: \"Are you sure that you want to delete this contact?\",\r\n      icon: \"warning\",\r\n      dangerMode: true,\r\n      buttons: [\"No\", \"Yes\"],\r\n    }).then((willDelete) => {\r\n      if (willDelete) {\r\n        let allContacts = localStorage.getItem(\"savedContacts\");\r\n        allContacts = JSON.parse(allContacts);\r\n\r\n        let remainingContacts = allContacts.filter((contact) => {\r\n          return contact.name !== contactName;\r\n        });\r\n\r\n        localStorage.setItem(\r\n          \"savedContacts\",\r\n          JSON.stringify(remainingContacts)\r\n        );\r\n\r\n        setYourContacts(JSON.parse(localStorage.getItem(\"savedContacts\")));\r\n\r\n        swal({\r\n          title: \"Deleted Successfully!\",\r\n          icon: \"success\",\r\n        });\r\n      } else {\r\n        swal({\r\n          title: \"Contact Not deleted.\",\r\n        });\r\n      }\r\n    });\r\n  };\r\n\r\n  const deleteAllContacts = () => {\r\n    swal({\r\n      title: \"Are you sure?\",\r\n      text: \"Are you sure that you want to delete all the contacts?\",\r\n      icon: \"warning\",\r\n      dangerMode: true,\r\n      buttons: [\"No\", \"Yes\"],\r\n    }).then((willDelete) => {\r\n      if (willDelete) {\r\n        localStorage.setItem(\"savedContacts\", \"[]\");\r\n        setYourContacts([]);\r\n        swal(\"Deleted!\", \"Deleted all Contacts.\", \"success\");\r\n      } else {\r\n        swal({\r\n          title: \"Contacts are safe!\",\r\n        });\r\n      }\r\n    });\r\n  };\r\n\r\n  function now() {\r\n    const now = new Date();\r\n    const formattedString = `Contacted on: ${now.toUTCString()}`;\r\n    return formattedString;\r\n  }\r\n\r\n  function handleCopyToClipboard(value) {\r\n    navigator?.clipboard\r\n      .writeText(value)\r\n      .then((val) => swal(\"Copied!\", value, \"success\"))\r\n      .catch((err) => swal(\"Oops!\", \"something went wrong\", \"error\"));\r\n  }\r\n\r\n  return (\r\n    <div className=\"col-md-6 py-1\">\r\n      <div className=\"d-flex justify-content-between align-items-center\">\r\n        <span className=\"fs-4 fw-bolder-3\">Contacts</span>\r\n        <button onClick={deleteAllContacts} className=\"btn btn-outline-dark\">\r\n          <i className=\"bi bi-trash3\" />\r\n        </button>\r\n      </div>\r\n\r\n      <div>\r\n        {yourContacts\r\n          .sort((a, b) => a.name.localeCompare(b.name))\r\n          .map((element, index) => {\r\n            return (\r\n              <div key={index} className=\"card text-bg-white my-2 w-100 p-2\">\r\n                <div className=\"card-header d-flex justify-content-between fw-bold\">\r\n                  <p>{element.name}</p>\r\n                  <button\r\n                    onClick={deleteContact}\r\n                    value={element.name}\r\n                    className=\"btn btn-sm btn-outline-danger m-1\"\r\n                  >\r\n                    <i className=\"bi bi-trash3\" />\r\n                  </button>\r\n                </div>\r\n                <div className=\"card-body\">\r\n                  <div className=\"d-flex justify-content-between align-items-center\">\r\n                    <h5 className=\"card-title\">\r\n                      {element.number.slice(0, 2)}-{element.number.slice(2, 12)}\r\n                    </h5>\r\n                    <button\r\n                      onClick={() => handleCopyToClipboard(element?.number)}\r\n                      value={element.name}\r\n                      className=\"btn btn-sm btn-outline-secondary m-1\"\r\n                    >\r\n                      <i className=\"bi bi-clipboard\" />\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n                <a\r\n                  onClick={(e) => {\r\n                    saveHistory(element.number, now());\r\n                    setContactHistory(\r\n                      JSON.parse(localStorage.getItem(\"history\"))\r\n                    );\r\n                  }}\r\n                  value={element}\r\n                  target=\"_blank\"\r\n                  rel=\"noreferrer\"\r\n                  href={`http://wa.me/${element.number}`}\r\n                  className=\"btn btn-outline-success\"\r\n                >\r\n                  Chat\r\n                </a>\r\n              </div>\r\n            );\r\n          })}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Contacts;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,IAAI,KAAM,YAAY,CAC7B,OAASC,WAAW,KAAQ,uBAAuB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEpD,GAAM,CAAAC,QAAQ,CAAG,QAAX,CAAAA,QAAQA,CAAAC,IAAA,CAA6D,IAAvD,CAAAC,YAAY,CAAAD,IAAA,CAAZC,YAAY,CAAEC,eAAe,CAAAF,IAAA,CAAfE,eAAe,CAAEC,iBAAiB,CAAAH,IAAA,CAAjBG,iBAAiB,CAClE,GAAM,CAAAC,aAAa,CAAG,QAAhB,CAAAA,aAAaA,CAAIC,KAAK,CAAK,CAC/B,GAAI,CAAAC,WAAW,CAAGD,KAAK,CAACE,aAAa,CAACC,KAAK,CAC3Cf,IAAI,CAAC,CACHgB,KAAK,CAAE,eAAe,CACtBC,IAAI,CAAE,oDAAoD,CAC1DC,IAAI,CAAE,SAAS,CACfC,UAAU,CAAE,IAAI,CAChBC,OAAO,CAAE,CAAC,IAAI,CAAE,KAAK,CACvB,CAAC,CAAC,CAACC,IAAI,CAAC,SAACC,UAAU,CAAK,CACtB,GAAIA,UAAU,CAAE,CACd,GAAI,CAAAC,WAAW,CAAGC,YAAY,CAACC,OAAO,CAAC,eAAe,CAAC,CACvDF,WAAW,CAAGG,IAAI,CAACC,KAAK,CAACJ,WAAW,CAAC,CAErC,GAAI,CAAAK,iBAAiB,CAAGL,WAAW,CAACM,MAAM,CAAC,SAACC,OAAO,CAAK,CACtD,MAAO,CAAAA,OAAO,CAACC,IAAI,GAAKlB,WAAW,CACrC,CAAC,CAAC,CAEFW,YAAY,CAACQ,OAAO,CAClB,eAAe,CACfN,IAAI,CAACO,SAAS,CAACL,iBAAiB,CAAC,CAClC,CAEDnB,eAAe,CAACiB,IAAI,CAACC,KAAK,CAACH,YAAY,CAACC,OAAO,CAAC,eAAe,CAAC,CAAC,CAAC,CAElEzB,IAAI,CAAC,CACHgB,KAAK,CAAE,uBAAuB,CAC9BE,IAAI,CAAE,SACR,CAAC,CAAC,CACJ,CAAC,IAAM,CACLlB,IAAI,CAAC,CACHgB,KAAK,CAAE,sBACT,CAAC,CAAC,CACJ,CACF,CAAC,CAAC,CACJ,CAAC,CAED,GAAM,CAAAkB,iBAAiB,CAAG,QAApB,CAAAA,iBAAiBA,CAAA,CAAS,CAC9BlC,IAAI,CAAC,CACHgB,KAAK,CAAE,eAAe,CACtBC,IAAI,CAAE,wDAAwD,CAC9DC,IAAI,CAAE,SAAS,CACfC,UAAU,CAAE,IAAI,CAChBC,OAAO,CAAE,CAAC,IAAI,CAAE,KAAK,CACvB,CAAC,CAAC,CAACC,IAAI,CAAC,SAACC,UAAU,CAAK,CACtB,GAAIA,UAAU,CAAE,CACdE,YAAY,CAACQ,OAAO,CAAC,eAAe,CAAE,IAAI,CAAC,CAC3CvB,eAAe,CAAC,EAAE,CAAC,CACnBT,IAAI,CAAC,UAAU,CAAE,uBAAuB,CAAE,SAAS,CAAC,CACtD,CAAC,IAAM,CACLA,IAAI,CAAC,CACHgB,KAAK,CAAE,oBACT,CAAC,CAAC,CACJ,CACF,CAAC,CAAC,CACJ,CAAC,CAED,QAAS,CAAAmB,GAAGA,CAAA,CAAG,CACb,GAAM,CAAAA,GAAG,CAAG,GAAI,CAAAC,IAAI,EAAE,CACtB,GAAM,CAAAC,eAAe,kBAAAC,MAAA,CAAoBH,GAAG,CAACI,WAAW,EAAE,CAAE,CAC5D,MAAO,CAAAF,eAAe,CACxB,CAEA,QAAS,CAAAG,qBAAqBA,CAACzB,KAAK,CAAE,KAAA0B,UAAA,CACpC,CAAAA,UAAA,CAAAC,SAAS,UAAAD,UAAA,iBAATA,UAAA,CAAWE,SAAS,CACjBC,SAAS,CAAC7B,KAAK,CAAC,CAChBM,IAAI,CAAC,SAACwB,GAAG,QAAK,CAAA7C,IAAI,CAAC,SAAS,CAAEe,KAAK,CAAE,SAAS,CAAC,GAAC,CAChD+B,KAAK,CAAC,SAACC,GAAG,QAAK,CAAA/C,IAAI,CAAC,OAAO,CAAE,sBAAsB,CAAE,OAAO,CAAC,GAAC,CACnE,CAEA,mBACEK,KAAA,QAAK2C,SAAS,CAAC,eAAe,CAAAC,QAAA,eAC5B5C,KAAA,QAAK2C,SAAS,CAAC,mDAAmD,CAAAC,QAAA,eAChE9C,IAAA,SAAM6C,SAAS,CAAC,kBAAkB,CAAAC,QAAA,CAAC,UAAQ,EAAO,cAClD9C,IAAA,WAAQ+C,OAAO,CAAEhB,iBAAkB,CAACc,SAAS,CAAC,sBAAsB,CAAAC,QAAA,cAClE9C,IAAA,MAAG6C,SAAS,CAAC,cAAc,EAAG,EACvB,GACL,cAEN7C,IAAA,QAAA8C,QAAA,CACGzC,YAAY,CACV2C,IAAI,CAAC,SAACC,CAAC,CAAEC,CAAC,QAAK,CAAAD,CAAC,CAACrB,IAAI,CAACuB,aAAa,CAACD,CAAC,CAACtB,IAAI,CAAC,GAAC,CAC5CwB,GAAG,CAAC,SAACC,OAAO,CAAEC,KAAK,CAAK,CACvB,mBACEpD,KAAA,QAAiB2C,SAAS,CAAC,mCAAmC,CAAAC,QAAA,eAC5D5C,KAAA,QAAK2C,SAAS,CAAC,oDAAoD,CAAAC,QAAA,eACjE9C,IAAA,MAAA8C,QAAA,CAAIO,OAAO,CAACzB,IAAI,EAAK,cACrB5B,IAAA,WACE+C,OAAO,CAAEvC,aAAc,CACvBI,KAAK,CAAEyC,OAAO,CAACzB,IAAK,CACpBiB,SAAS,CAAC,mCAAmC,CAAAC,QAAA,cAE7C9C,IAAA,MAAG6C,SAAS,CAAC,cAAc,EAAG,EACvB,GACL,cACN7C,IAAA,QAAK6C,SAAS,CAAC,WAAW,CAAAC,QAAA,cACxB5C,KAAA,QAAK2C,SAAS,CAAC,mDAAmD,CAAAC,QAAA,eAChE5C,KAAA,OAAI2C,SAAS,CAAC,YAAY,CAAAC,QAAA,EACvBO,OAAO,CAACE,MAAM,CAACC,KAAK,CAAC,CAAC,CAAE,CAAC,CAAC,CAAC,GAAC,CAACH,OAAO,CAACE,MAAM,CAACC,KAAK,CAAC,CAAC,CAAE,EAAE,CAAC,GACtD,cACLxD,IAAA,WACE+C,OAAO,CAAE,SAAAA,QAAA,QAAM,CAAAV,qBAAqB,CAACgB,OAAO,SAAPA,OAAO,iBAAPA,OAAO,CAAEE,MAAM,CAAC,EAAC,CACtD3C,KAAK,CAAEyC,OAAO,CAACzB,IAAK,CACpBiB,SAAS,CAAC,sCAAsC,CAAAC,QAAA,cAEhD9C,IAAA,MAAG6C,SAAS,CAAC,iBAAiB,EAAG,EAC1B,GACL,EACF,cACN7C,IAAA,MACE+C,OAAO,CAAE,SAAAA,QAACU,CAAC,CAAK,CACd3D,WAAW,CAACuD,OAAO,CAACE,MAAM,CAAEvB,GAAG,EAAE,CAAC,CAClCzB,iBAAiB,CACfgB,IAAI,CAACC,KAAK,CAACH,YAAY,CAACC,OAAO,CAAC,SAAS,CAAC,CAAC,CAC5C,CACH,CAAE,CACFV,KAAK,CAAEyC,OAAQ,CACfK,MAAM,CAAC,QAAQ,CACfC,GAAG,CAAC,YAAY,CAChBC,IAAI,iBAAAzB,MAAA,CAAkBkB,OAAO,CAACE,MAAM,CAAG,CACvCV,SAAS,CAAC,yBAAyB,CAAAC,QAAA,CACpC,MAED,EAAI,GAvCIQ,KAAK,CAwCT,CAEV,CAAC,CAAC,EACA,GACF,CAEV,CAAC,CAED,cAAe,CAAAnD,QAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}