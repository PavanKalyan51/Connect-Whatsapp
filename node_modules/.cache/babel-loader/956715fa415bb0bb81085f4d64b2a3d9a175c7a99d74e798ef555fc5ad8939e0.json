{"ast":null,"code":"import _slicedToArray from\"D:/projects/whatsapp/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import swal from\"sweetalert\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var History=function History(_ref){var contactHistory=_ref.contactHistory,setContactHistory=_ref.setContactHistory;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),showAllHistory=_useState2[0],setShowAllHistory=_useState2[1];var limitedContactHistory=contactHistory;var loadMoreButton=null;var clearHistory=function clearHistory(){swal({title:\"Are you sure?\",text:\"Are you sure that you want to delete the history?\",icon:\"warning\",dangerMode:true,buttons:[\"No\",\"Yes\"]}).then(function(willDelete){if(willDelete){localStorage.setItem(\"history\",\"[]\");setContactHistory([]);swal(\"Deleted!\",\"Deleted Contact History!\",\"success\");}else{swal({title:\"History is safe!\"});}});};var clearIndividualChatHistory=function clearIndividualChatHistory(individual){var modifiedHistory=contactHistory.filter(function(history){return history.timedate!==individual.timedate;});localStorage.setItem(\"history\",JSON.stringify(modifiedHistory));setContactHistory(JSON.parse(localStorage.getItem(\"history\")));};if(!showAllHistory){limitedContactHistory=contactHistory.slice(0,5);if(contactHistory.length>5){loadMoreButton=/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){setShowAllHistory(true);},className:\"btn btn-success w-100 my-3\",children:\"Load More\"});}}return/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-6 py-1\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between align-items-center \",children:[/*#__PURE__*/_jsx(\"span\",{className:\"fw-border-4 fs-4\",children:\"History\"}),/*#__PURE__*/_jsx(\"button\",{onClick:clearHistory,className:\"btn btn-outline-dark mx-1 d-flex\",children:/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-trash3\"})})]}),/*#__PURE__*/_jsxs(\"div\",{children:[limitedContactHistory.map(function(element,index){return/*#__PURE__*/_jsxs(\"div\",{className:\"btn btn-outline-dark w-100 my-2\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"a\",{target:\"_blank\",rel:\"noreferrer\",href:\"http://wa.me/\".concat(element.number),className:\"btn btn-outline-success btn-sm border-0 w-75\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-whatsapp mx-3\"}),/*#__PURE__*/_jsx(\"span\",{children:element.number})]}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(e){e.stopPropagation();clearIndividualChatHistory(element);},value:element,className:\"btn btn-outline-danger btn-sm border-0 float-end w-25\",children:/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-trash3\"})})]}),/*#__PURE__*/_jsx(\"time\",{style:{fontSize:\"12px\"},children:element.timedate})]},index);}),loadMoreButton]})]});};export default History;","map":{"version":3,"names":["React","useState","swal","jsx","_jsx","jsxs","_jsxs","History","_ref","contactHistory","setContactHistory","_useState","_useState2","_slicedToArray","showAllHistory","setShowAllHistory","limitedContactHistory","loadMoreButton","clearHistory","title","text","icon","dangerMode","buttons","then","willDelete","localStorage","setItem","clearIndividualChatHistory","individual","modifiedHistory","filter","history","timedate","JSON","stringify","parse","getItem","slice","length","onClick","className","children","map","element","index","target","rel","href","concat","number","e","stopPropagation","value","style","fontSize"],"sources":["D:/projects/whatsapp/src/components/History.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport swal from \"sweetalert\";\r\n\r\nconst History = ({ contactHistory, setContactHistory }) => {\r\n  const [showAllHistory, setShowAllHistory] = useState(false);\r\n  let limitedContactHistory = contactHistory;\r\n  let loadMoreButton = null;\r\n\r\n  const clearHistory = () => {\r\n    swal({\r\n      title: \"Are you sure?\",\r\n      text: \"Are you sure that you want to delete the history?\",\r\n      icon: \"warning\",\r\n      dangerMode: true,\r\n      buttons: [\"No\", \"Yes\"],\r\n    }).then((willDelete) => {\r\n      if (willDelete) {\r\n        localStorage.setItem(\"history\", \"[]\");\r\n        setContactHistory([]);\r\n        swal(\"Deleted!\", \"Deleted Contact History!\", \"success\");\r\n      } else {\r\n        swal({\r\n          title: \"History is safe!\",\r\n        });\r\n      }\r\n    });\r\n  };\r\n\r\n  const clearIndividualChatHistory = (individual) => {\r\n    let modifiedHistory = contactHistory.filter((history) => {\r\n      return history.timedate !== individual.timedate;\r\n    });\r\n    localStorage.setItem(\"history\", JSON.stringify(modifiedHistory));\r\n    setContactHistory(JSON.parse(localStorage.getItem(\"history\")));\r\n  };\r\n\r\n  if (!showAllHistory) {\r\n    limitedContactHistory = contactHistory.slice(0, 5);\r\n\r\n    if (contactHistory.length > 5) {\r\n      loadMoreButton = (\r\n        <button\r\n          onClick={() => {\r\n            setShowAllHistory(true);\r\n          }}\r\n          className=\"btn btn-success w-100 my-3\"\r\n        >\r\n          Load More\r\n        </button>\r\n      );\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"col-md-6 py-1\">\r\n      <div className=\"d-flex justify-content-between align-items-center \">\r\n        <span className=\"fw-border-4 fs-4\">History</span>\r\n        <button\r\n          onClick={clearHistory}\r\n          className=\"btn btn-outline-dark mx-1 d-flex\"\r\n        >\r\n          <i className=\"bi bi-trash3\" />\r\n        </button>\r\n      </div>\r\n\r\n      <div>\r\n        {limitedContactHistory.map((element, index) => {\r\n          return (\r\n            <div key={index} className=\"btn btn-outline-dark w-100 my-2\">\r\n              <div>\r\n                <a\r\n                  target=\"_blank\"\r\n                  rel=\"noreferrer\"\r\n                  href={`http://wa.me/${element.number}`}\r\n                  className=\"btn btn-outline-success btn-sm border-0 w-75\"\r\n                >\r\n                  <i className=\"bi bi-whatsapp mx-3\" />\r\n                  <span>{element.number}</span>\r\n                </a>\r\n\r\n                <button\r\n                  onClick={(e) => {\r\n                    e.stopPropagation();\r\n                    clearIndividualChatHistory(element);\r\n                  }}\r\n                  value={element}\r\n                  className=\"btn btn-outline-danger btn-sm border-0 float-end w-25\"\r\n                >\r\n                  <i className=\"bi bi-trash3\" />\r\n                </button>\r\n              </div>\r\n              <time style={{ fontSize: \"12px\" }}>{element.timedate}</time>\r\n            </div>\r\n          );\r\n        })}\r\n        {loadMoreButton}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default History;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}